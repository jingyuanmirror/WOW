# 皮肤列表页使用指南

## 功能概览

皮肤列表页是一个功能完善的作品展示页面，支持多维度筛选、排序和预览功能。

## 核心功能

### 1. 版本筛选
- **位置**: 工具栏左侧
- **选项**: 正式服、60版、80版
- **逻辑**: 多选，OR关系（选择任一版本会显示支持该版本的皮肤）
- **示例**: 同时选择"正式服"和"60版"将显示支持其中任一版本的所有皮肤

### 2. 排序功能
- **位置**: 工具栏中部
- **选项**:
  - 默认排序: 综合推荐（精选 > 权重 > 喜欢数）
  - 喜欢最多: 按喜欢数量降序
  - 最新优先: 按更新时间降序
  - 名称 A-Z: 字母顺序
  - 名称 Z-A: 字母倒序

### 3. 搜索功能
- **位置**: 工具栏右侧
- **支持**: 中文、英文、拼音首字母
- **范围**: 搜索皮肤名称、标签、描述
- **实时**: 输入时立即过滤结果

### 4. 标签筛选（可选）
- **位置**: 工具栏下方
- **逻辑**: 多选，AND关系（需同时满足所有选中标签）
- **常用标签**: PvP、PvE、治疗、DPS、简洁、华丽等

### 5. 皮肤卡片
每个卡片包含：
- **预览图**: 16:9比例，悬停时显示提示
- **品质色条**: 顶部色条显示品质等级
- **标题**: 使用品质颜色显示
- **互动数据**: 喜欢、浏览、评论数
- **版本标签**: 支持的游戏版本
- **分类标签**: 最多显示2个，超出显示数量
- **操作按钮**: 查看详情、喜欢

### 6. 预览弹窗
- **打开方式**: 点击卡片预览图
- **功能**:
  - 高清图片查看
  - 视频播放
  - 缩略图轮播
  - 键盘导航（←/→切换，Esc关闭）
  - 快速跳转到详情页

### 7. 喜欢功能
- **存储**: 本地存储（localStorage）
- **状态**: 红色填充心形图标表示已喜欢
- **同步**: 未来将支持账户同步

## URL参数

所有筛选条件都会同步到URL，支持分享和书签：

```
/skins?versions=retail,classic&tags=PvP&sort=likes&search=暗影
```

### 参数说明
- `versions`: 版本筛选（逗号分隔）
- `tags`: 标签筛选（逗号分隔）
- `quality`: 品质筛选（common/rare/epic/legendary）
- `search`: 搜索关键词
- `sort`: 排序方式
- `page`: 页码
- `pageSize`: 每页数量

## 响应式设计

### 桌面端（≥1280px）
- 4列网格布局
- 完整工具栏显示
- 悬停效果和动画

### 平板端（768px-1279px）
- 3列网格布局
- 工具栏紧凑显示

### 移动端（<768px）
- 2列网格布局
- 筛选工具栏可收起
- 触控优化

## 快捷键

### 预览弹窗
- `Esc`: 关闭弹窗
- `←`: 上一张
- `→`: 下一张
- `Space`: 播放/暂停视频（视频模式）

## 性能优化

### 图片加载
- 懒加载: 屏幕外图片按需加载
- 响应式尺寸: 根据设备加载适当尺寸
- 占位符: 加载前显示骨架屏

### 数据缓存
- 筛选结果缓存
- 已浏览皮肤缓存
- 喜欢状态本地存储

## 常见问题

### Q: 如何同时筛选多个版本？
A: 点击多个版本按钮，它们之间是OR关系，会显示支持任一版本的皮肤。

### Q: 筛选结果为空怎么办？
A: 点击"清除全部"按钮重置所有筛选条件。

### Q: 喜欢的皮肤在哪里查看？
A: 当前喜欢功能仅本地存储，未来将添加"我的收藏"页面。

### Q: 如何分享筛选结果？
A: 直接复制浏览器地址栏的URL，所有筛选条件都已包含在内。

### Q: 视图切换在哪里？
A: 工具栏右侧的网格/列表图标，移动端暂不显示。

## 开发接口

### 添加新的筛选维度

```typescript
// 在 SkinFilterParams 中添加新字段
export interface SkinFilterParams {
  // ... 现有字段
  newFilter?: string[];
}

// 在 filterSkins 函数中添加筛选逻辑
if (filters.newFilter && filters.newFilter.length > 0) {
  filtered = filtered.filter((skin) =>
    // 你的筛选逻辑
  );
}
```

### 添加新的排序方式

```typescript
// 在 SortOption 中添加选项
export type SortOption = 'default' | 'latest' | 'likes' | 'name-asc' | 'name-desc' | 'new-sort';

// 在 sortSkins 函数中添加排序逻辑
case 'new-sort':
  return sorted.sort((a, b) => {
    // 你的排序逻辑
  });
```

### 自定义皮肤卡片

```typescript
// 在 SkinCard 组件中修改布局或样式
// 所有样式使用 Tailwind CSS
```

## 后续规划

### Phase 2
- 无限滚动
- 列表视图完整实现
- 高级筛选（时间范围等）
- 保存筛选预设

### Phase 3
- 用户评分系统
- 评论功能
- 比较功能
- 个性化推荐

## 技术支持

- 文档: [SKIN-LIST-IMPLEMENTATION.md](./SKIN-LIST-IMPLEMENTATION.md)
- PRD: [skin-list-PRD.md](./.context/prompt/skin-list-PRD.md)
- 问题反馈: GitHub Issues
